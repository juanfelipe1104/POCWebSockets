<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Demo - SYE Identification</title>
  </head>

  <body style="padding:24px">
    <h2>Demo WebComponent: Identificaci√≥n</h2>

    <sye-identification id="ident"></sye-identification>

    <pre id="log" style="margin-top:16px; padding:12px; border:1px solid #ddd; border-radius:12px;"></pre>

    <script src="/dist/sye-identification.min.js"></script>

    <script>
      const log = (x) => {
        document.getElementById("log").textContent =
          typeof x === "string" ? x : JSON.stringify(x, null, 2);
      };

      const el = document.getElementById("ident");

      // 1) Eventos DOM
      el.addEventListener("onSuccess", (e) => {
        log({ via: "event", type: "onSuccess", payload: e.detail });
      });

      el.addEventListener("onError", (e) => {
        log({ via: "event", type: "onError", payload: e.detail });
      });

      // 2) Callbacks init()
      const transactionToken = "tx-123";
      const accessToken = "access-token-jwt";

      el.init(
        transactionToken,
        accessToken,
        {},
        (payload) => log({ via: "callback", type: "onSuccess", payload }),
        (payload) => log({ via: "callback", type: "onError", payload })
      );
    </script>
  </body>
</html>
